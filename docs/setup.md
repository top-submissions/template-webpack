# Webpack Project Setup & Deployment Checklist

---

## üìã Initial Project Setup

### 1. Create Project Directory and Initialize npm

- [ ] Create new project directory

  ```bash
  mkdir your-project-name
  cd your-project-name
  ```

- [ ] Initialize npm with default settings

  ```bash
  npm init -y
  ```

- [ ] Open `package.json` and **remove** the `"type"` property if it exists (either `"commonjs"` or `"module"`)
  - This prevents Webpack module clashing errors

---

## üì¶ Install Core Dependencies

### 2. Install Webpack

- [ ] Install webpack and webpack-cli as dev dependencies

  ```bash
  npm install --save-dev webpack webpack-cli
  ```

- [ ] Verify `node_modules` directory was created
- [ ] Verify `package-lock.json` was created

---

## üìÅ Create Directory Structure

### 3. Set Up src and dist Directories

- [ ] Create `src` directory for source code

  ```bash
  mkdir src
  ```

- [ ] Create initial JavaScript files

  ```bash
  touch src/index.js
  ```

- [ ] Note: `dist` directory will be auto-generated by Webpack

### 4. Create .gitignore File

- [ ] Create `.gitignore` in project root

  ```bash
  touch .gitignore
  ```

- [ ] Add the following content:

  ```
  node_modules
  dist
  ```

---

## ‚öôÔ∏è Configure Webpack

### 5. Create webpack.config.js

- [ ] Create configuration file in project root

  ```bash
  touch webpack.config.js
  ```

- [ ] Add basic configuration:

  ```javascript
  const path = require("path");

  module.exports = {
    mode: "development",
    entry: "./src/index.js",
    output: {
      filename: "main.js",
      path: path.resolve(__dirname, "dist"),
      clean: true,
    },
  };
  ```

---

## üåê HTML Configuration

### 6. Install and Configure HtmlWebpackPlugin

- [ ] Install html-webpack-plugin

  ```bash
  npm install --save-dev html-webpack-plugin
  ```

- [ ] Create HTML template

  ```bash
  touch src/template.html
  ```

- [ ] Add HTML boilerplate to `template.html` (**without script tags**)
- [ ] Update `webpack.config.js` to include the plugin:

  ```javascript
  const HtmlWebpackPlugin = require("html-webpack-plugin");
  
  // Add to module.exports:
  plugins: [
    new HtmlWebpackPlugin({
      template: "./src/template.html",
    }),
  ],
  ```

---

## üé® CSS Configuration

### 7. Install and Configure CSS Loaders

- [ ] Install style-loader and css-loader

  ```bash
  npm install --save-dev style-loader css-loader
  ```

- [ ] Create CSS file

  ```bash
  touch src/styles.css
  ```

- [ ] Update `webpack.config.js` to add module rules:

  ```javascript
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: ["style-loader", "css-loader"],
      },
    ],
  },
  ```

- [ ] Import CSS in `src/index.js`:

  ```javascript
  import "./styles.css";
  ```

- [ ] **Note**: Order matters! `css-loader` must be **last** in the array

---

## üñºÔ∏è Image Configuration (Optional)

### 8. Configure Image Handling

**Only configure what you need:**

#### For Images in CSS

- [ ] No extra configuration needed - `css-loader` handles it automatically

#### For Images in HTML Template

- [ ] Install html-loader

  ```bash
  npm install --save-dev html-loader
  ```

- [ ] Add to `webpack.config.js` module rules:

  ```javascript
  {
    test: /\.html$/i,
    loader: "html-loader",
  }
  ```

#### For Images Used in JavaScript

- [ ] Add asset/resource rule to `webpack.config.js`:

  ```javascript
  {
    test: /\.(png|svg|jpg|jpeg|gif)$/i,
    type: "asset/resource",
  }
  ```

- [ ] Import images in JavaScript:

  ```javascript
  import myImage from "./image.png";
  const img = document.createElement("img");
  img.src = myImage;
  ```

---

## üöÄ Development Server Setup

### 9. Install and Configure webpack-dev-server

- [ ] Install webpack-dev-server

  ```bash
  npm install --save-dev webpack-dev-server
  ```

- [ ] Add devtool and devServer to `webpack.config.js`:

  ```javascript
  devtool: "eval-source-map",
  devServer: {
    watchFiles: ["./src/template.html"],
  },
  ```

- [ ] **Note**: Restart dev server after any config changes with `Ctrl+C` then restart

---

## üìù npm Scripts Configuration

### 10. Add npm Scripts to package.json

- [ ] Update the `"scripts"` section in `package.json`:

  ```json
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "build": "webpack",
    "dev": "webpack serve --open",
    "watch": "webpack --watch"
  }
  ```

---

## ‚úÖ Test Basic Setup

### 11. Verify Everything Works

- [ ] Add test content to `src/index.js`:

  ```javascript
  import "./styles.css";
  console.log("Hello from Webpack!");
  ```

- [ ] Run development build:

  ```bash
  npm run build
  ```

- [ ] Verify `dist` directory was created with `index.html` and `main.js`
- [ ] Open `dist/index.html` in browser and check console
- [ ] Start dev server:

  ```bash
  npm run dev
  ```

- [ ] Verify browser opens automatically at `http://localhost:8080`
- [ ] Make a change to your code and verify auto-reload works

---

## üîß Advanced Configuration (Optional)

### 12. Split Development and Production Configs

- [ ] Install webpack-merge

  ```bash
  npm install --save-dev webpack-merge
  ```

- [ ] Create `webpack.common.js` for shared configuration
- [ ] Create `webpack.dev.js` for development-specific config
- [ ] Create `webpack.prod.js` for production-specific config
- [ ] Update npm scripts:

  ```json
  "scripts": {
    "build": "webpack --config webpack.prod.js",
    "build:dev": "webpack --config webpack.dev.js",
    "dev": "webpack serve --config webpack.dev.js",
    "watch": "webpack --watch --config webpack.dev.js"
  }
  ```

---

## üì§ Deployment to GitHub Pages

### 13. Initialize Git Repository

- [ ] Initialize git (if not already done)

  ```bash
  git init
  ```

- [ ] Add all files and make initial commit

  ```bash
  git add .
  git commit -m "Initial commit"
  ```

- [ ] Create GitHub repository (don't initialize with README)
- [ ] Link local repo to GitHub:

  ```bash
  git remote add origin https://github.com/username/repo-name.git
  git branch -M main
  git push -u origin main
  ```

### 14. Create gh-pages Branch

- [ ] Create gh-pages branch (one-time setup)

  ```bash
  git branch gh-pages
  ```

### 15. Deploy to GitHub Pages

**Follow these steps every time you deploy or redeploy:**

- [ ] Ensure all changes are committed

  ```bash
  git status
  ```

  (Commit anything that needs committing)

- [ ] Switch to gh-pages and merge main

  ```bash
  git checkout gh-pages
  git merge main --no-edit
  ```

- [ ] Build the project

  ```bash
  npm run build
  ```

- [ ] Add dist folder to git (normally ignored)

  ```bash
  git add dist -f
  ```

- [ ] Commit the dist folder

  ```bash
  git commit -m "Deploy to GitHub Pages"
  ```

- [ ] Push dist contents to root of gh-pages

  ```bash
  git subtree push --prefix dist origin gh-pages
  ```

  *OR if that doesn't work:*

  ```bash
  git push origin `git subtree split --prefix dist gh-pages`:gh-pages --force
  ```

- [ ] Switch back to main branch

  ```bash
  git checkout main
  ```

### 16. Enable GitHub Pages

- [ ] Go to GitHub repository ‚Üí Settings ‚Üí Pages
- [ ] Under "Source", select branch: `gh-pages`
- [ ] Select folder: `/ (root)`
- [ ] Click Save
- [ ] Wait a few minutes for deployment
- [ ] Visit: `https://username.github.io/repo-name/`

---

## üìö Additional Dependencies (Project-Specific)

### 17. Install Additional Libraries as Needed

Examples from The Odin Project curriculum:

- [ ] **date-fns** (for date manipulation)

  ```bash
  npm install date-fns
  ```

  ```javascript
  import { format } from 'date-fns';
  ```

- [ ] **Lodash** (utility functions)

  ```bash
  npm install lodash
  ```

- [ ] **Font files** - Place in `src/assets/fonts/`
  - May require additional webpack configuration

---

## üéØ Final Checklist

### 18. Pre-Deployment Verification

- [ ] All features working in development mode
- [ ] Build production version: `npm run build`
- [ ] Test `dist/index.html` locally
- [ ] All images loading correctly
- [ ] Console errors checked and resolved
- [ ] Mobile responsiveness tested
- [ ] Browser compatibility tested

### 19. Code Quality

- [ ] Remove all `console.log()` statements (or use in development only)
- [ ] Code commented appropriately
- [ ] ES6+ features used where appropriate
- [ ] No unused imports or variables

### 20. Documentation

- [ ] README.md created and updated
- [ ] Installation instructions included
- [ ] Usage instructions documented
- [ ] Project structure explained
- [ ] Live demo link added (after deployment)

---

## üîÑ Updating Your Deployed Site

**Whenever you make changes and want to redeploy:**

1. [ ] Commit changes to main branch
2. [ ] Follow steps 15 (Deploy to GitHub Pages) again
3. [ ] Wait a few minutes for GitHub Pages to update
4. [ ] Clear browser cache if changes don't appear
5. [ ] Verify deployment at your GitHub Pages URL

---

## üìã Complete webpack.config.js Example

**Final configuration with all options:**

```javascript
const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");

module.exports = {
  mode: "development",
  entry: "./src/index.js",
  output: {
    filename: "main.js",
    path: path.resolve(__dirname, "dist"),
    clean: true,
  },
  devtool: "eval-source-map",
  devServer: {
    watchFiles: ["./src/template.html"],
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: "./src/template.html",
    }),
  ],
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: ["style-loader", "css-loader"],
      },
      {
        test: /\.html$/i,
        loader: "html-loader",
      },
      {
        test: /\.(png|svg|jpg|jpeg|gif)$/i,
        type: "asset/resource",
      },
    ],
  },
};
```

---

## üö® Common Issues & Solutions

### Troubleshooting

- [ ] **Webpack errors about module type**: Remove `"type"` from `package.json`
- [ ] **Dev server not updating**: Restart with `Ctrl+C` then `npm run dev`
- [ ] **Images not loading**: Check file paths and webpack config
- [ ] **GitHub Pages 404**: Ensure gh-pages branch has dist content at root
- [ ] **CSS not loading**: Verify loader order (style-loader first, css-loader last)
- [ ] **Bundle too large**: Switch to production mode for optimizations

---

**‚úÖ Checklist Complete!** You now have a fully configured Webpack project ready for development and deployment!
